tinymce.PluginManager.add('indentBack2em', function(editor, url) {
    let pluginName='取消首行缩进';
    let global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');
    let doAct = function () {
        let dom = editor.dom;
        let blocks = editor.selection.getSelectedBlocks();
        global$1.each(blocks, function (block) {
            // let style=dom.getAttrib(block,'style');
            // style = style.replace(/text-indent:[\s]*2em;/ig,'22');
            // dom.setAttrib(block,'style',style);
            dom.setStyle(block, 'text-indent', '0em');
            block.setAttribute('data-text-indent', '0');
        });
        editor.selectToolStatus()
    };
    editor.ui.registry.getAll().icons.indentBack2em || editor.ui.registry.addIcon('indentBack2em','<svg t="1723690342913" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8166" width="18" height="18"><path d="M409.6 0h614.4v102.4H409.6V0z m0 307.2h614.4v102.4H409.6V307.2zM0 614.4h1024v102.4H0v-102.4z m0 307.2h1024v102.4H0v-102.4zM0 212.992l113.152-91.136L226.816 30.72v364.032L113.152 303.616 0 212.992z" p-id="8167"></path></svg>');
    editor.ui.registry.addToggleButton('indentBack2em', {
        icon: 'indentBack2em',
        tooltip: pluginName,
        onAction: function () {
            doAct();
        }
    });
    editor.ui.registry.addMenuItem('indentBack2em', {
        text: pluginName,
        onAction: function() {
            doAct();
        }
    });
    editor.addCommand('indentBack2em', doAct  );
    return {
        getMetadata: function () {
            return  {
                name: pluginName,
                url: "http://tinymce.ax-z.cn/more-plugins/indent2em.php",
            };
        }
    };
});
